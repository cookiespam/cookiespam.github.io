(this["webpackJsonpcurrency-converter-pwa"]=this["webpackJsonpcurrency-converter-pwa"]||[]).push([[0],{365:function(e,t,n){e.exports=n(470)},370:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),u=n.n(c),s=(n(370),n(247)),i=n(301),o=n(497),l=n(310),f=n(87),p=n(25),d=n.n(p),h=n(53),m=n(108),v=n(109),b=n(202),y=n(198),g=n(4),w=n(489),x=n(302),j=Object(i.a)((function(e){return{root:{flexGrow:1},currencyText:{display:"flex",flexDirection:"column",justifyContent:"center"},currencyInput:{width:"100%"}}}));var k=function(e){var t=j();return r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{className:t.currencyText,item:!0,sm:3},r.a.createElement(f.a,{variant:"body1"},e.name," (",e.id,")")),r.a.createElement(w.a,{item:!0,sm:9},r.a.createElement(x.a,{id:"outlined-number",className:t.currencyInput,label:"Number",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",value:e.rate,onChange:function(t){e.change(e.id,t.target.value)}})))},O=n(138),E=n(121),C=n.n(E),S=n(349),D=n(348);n.n(D).a.config({silent:!0});var N,I,R=[{id:"EUR",name:"Euro",rates:"1.00"},{id:"GBP",name:"British Pound Sterling",rates:"0.1"},{id:"USD",name:"United States Dollar",rates:"1.17"}],G=new(function(){function e(){Object(m.a)(this,e)}return Object(v.a)(e,[{key:"update",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return",I);case 2:return e.next=4,this.updateRates();case 4:I=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateRates",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=null,e.prev=2,e.next=5,this.getAllRates();case 5:return t=e.sent,e.next=8,this.getCurrencyList();case 8:n=(n=e.sent).symbols,e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0),e.next=17,this.getOfflineData();case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,this.populate(n,t);case 20:return a=e.sent,e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrencyList",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("//localhost:3001","/currencylist/"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllRates",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("//localhost:3001","/rates/"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getOfflineData",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.getItem("data");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSelectedCurrencies",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,C.a.getItem("selectedCurrencies");case 3:if(n=e.sent){e.next=8;break}return e.next=7,C.a.setItem("selectedCurrencies",R);case 7:n=e.sent;case 8:if(I){e.next=10;break}return e.abrupt("return",[]);case 10:return Object.entries(I).forEach((function(e){var a,r=Object(O.a)(n);try{for(r.s();!(a=r.n()).done;){var c=a.value;e[1].id===c.id&&t.push(e[1])}}catch(u){r.e(u)}finally{r.f()}})),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setSelectedCurrencies",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.setItem("selectedCurrencies",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"populate",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=[],N=new S.a({base:"EUR",rates:n.rates}),t)(c={}).id=r,c.name=t[r],c.rates=n.rates[r].toFixed(2)||0,a.push(c);return e.next=5,C.a.setItem("data",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDate",value:function(e){var t=new Date(1e3*e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(("0"+t.getMinutes()).slice(-2))}},{key:"change",value:function(e,t,n){Object.entries(e).map((function(e){return e[1].rates=N.convert(n,{from:t,to:e[1].id}),e[1].id!==t&&(e[1].rates=e[1].rates.toFixed(2)),e}))}}]),e}());Object.freeze(G);var B=G,L=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={data:[]},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getSelectedCurrencies();case 2:t=e.sent,this.setState({data:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},this.renderCurrencyRows(this.state.data))}},{key:"renderCurrencyRows",value:function(e){var t=this;if("object"===typeof e&&0!==e.length)return e.map((function(e){return r.a.createElement(k,{key:e.id,id:e.id,name:e.name,rate:e.rates,change:t.change.bind(t)})}))}},{key:"change",value:function(e,t){isNaN(t)||(B.change(this.state.data,e,t),this.setState({data:this.state.data}))}}]),n}(r.a.Component),M=Object(g.a)((function(e){return{root:{flexGrow:1,margin:24}}}),{withTheme:!0})(L),T=n(498),U=n(350),A=n.n(U),F=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={data:[],selected:[]},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a,r,c,u,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.update();case 2:return t=e.sent,e.next=5,B.getSelectedCurrencies();case 5:n=e.sent,a=Object(O.a)(t);try{for(a.s();!(r=a.n()).done;){c=r.value,u=Object(O.a)(n);try{for(u.s();!(s=u.n()).done;)i=s.value,c.id===i.id&&(c.tableData={checked:!0})}catch(o){u.e(o)}finally{u.f()}}}catch(o){a.e(o)}finally{a.f()}this.setState({data:t,selected:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(A.a,{columns:[{title:"Name",field:"name"},{title:"ID",field:"id"},{title:"Rate",field:"rates",type:"numeric"}],data:this.state.data,title:"",options:{sorting:!0,selection:!0,pageSize:20},onSelectionChange:function(e){return B.setSelectedCurrencies(e)}}))}}]),n}(r.a.Component),H=Object(g.a)((function(e){return{root:{flexGrow:1,margin:24,maxWidth:"100%"}}}),{withTheme:!0})(F),P=n(499),W=n(356),z=n.n(W),J=n(357),Y=n.n(J),$=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));function q(e){var t=e.isLoaded,n=e.isHome;return t?n?r.a.createElement(M,null):r.a.createElement(H,null):null}var K=function(){var e=$(),t=Object(a.useState)(!0),n=Object(s.a)(t,2),c=n[0],u=n[1],i=Object(a.useState)(!1),p=Object(s.a)(i,2),d=p[0],h=p[1];return Object(a.useEffect)((function(){B.update().then((function(){h(!0)}))})),r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(f.a,{variant:"h6",className:e.title},"Currency Conveter"))),r.a.createElement(T.a,null),r.a.createElement(q,{isLoaded:d,isHome:c}),r.a.createElement(P.a,{color:"primary",className:e.fab,onClick:function(){u(!c)}},c?r.a.createElement(z.a,null):r.a.createElement(Y.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[365,1,2]]]);
//# sourceMappingURL=main.0c4355ab.chunk.js.map